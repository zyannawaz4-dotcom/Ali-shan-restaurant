<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ali Shan Restaurant</title>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#6366f1">

<style>
  body { font-family: Arial, sans-serif; margin: 20px; background: #f4f4f9; }
  h2 { text-align: center; }
  .item { display: flex; align-items: center; justify-content: space-between; padding: 10px; margin: 10px 0; background: #fff; border-radius: 10px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
  .item img { width: 60px; height: 60px; object-fit: cover; border-radius: 0; margin-right: 10px; }
  .item button { padding: 5px 10px; font-size: 14px; margin-left: 5px; }
  .totals { margin-top: 20px; padding: 10px; background: #fff; border-radius: 10px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
  .totals h3 { margin: 10px 0; }
  .actions { margin-top: 15px; text-align: center; }
  .actions button { padding: 10px 20px; margin: 5px; font-size: 16px; border-radius: 8px; cursor: pointer; }
  #report-box { white-space: pre-wrap; background:#fff; padding:10px; margin-top:15px; border-radius:10px; box-shadow:0 2px 4px rgba(0,0,0,0.1); display:none; }
</style>

<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('./service-worker.js')
      .then(() => console.log('Service Worker Registered'))
      .catch(err => console.log('SW registration failed:', err));
  }
</script>

</head>
<body>
  <h2>üçΩÔ∏è Ali Shan Restaurant</h2>

  <!-- Menu Items -->
  <div class="item">
    <img src="tikka.jpg" alt="Tikka">
    <span>Tikka (150)</span>
    <button onclick="addItem('Tikka',150)">+</button>
    <button onclick="removeItem('Tikka',150)">-</button>
    <span id="Tikka-count">0</span>
  </div>

  <div class="item">
    <img src="legpiece.jpg" alt="Leg Piece">
    <span>Leg Piece (150)</span>
    <button onclick="addItem('Leg Piece',150)">+</button>
    <button onclick="removeItem('Leg Piece',150)">-</button>
    <span id="Leg Piece-count">0</span>
  </div>

  <div class="item">
    <img src="kabab.jpg" alt="Kabab">
    <span>Kabab (100)</span>
    <button onclick="addItem('Kabab',100)">+</button>
    <button onclick="removeItem('Kabab',100)">-</button>
    <span id="Kabab-count">0</span>
  </div>

  <div class="item">
    <img src="kalagi.jpg" alt="Kalagi">
    <span>Kalagi (50)</span>
    <button onclick="addItem('Kalagi',50)">+</button>
    <button onclick="removeItem('Kalagi',50)">-</button>
    <span id="Kalagi-count">0</span>
  </div>

  <div class="item">
    <img src="nan.jpg" alt="Nan">
    <span>Nan (25)</span>
    <button onclick="addItem('Nan',25)">+</button>
    <button onclick="removeItem('Nan',25)">-</button>
    <span id="Nan-count">0</span>
  </div>

  <div class="item">
    <img src="roti.jpg" alt="Roti">
    <span>Roti (15)</span>
    <button onclick="addItem('Roti',15)">+</button>
    <button onclick="removeItem('Roti',15)">-</button>
    <span id="Roti-count">0</span>
  </div>

  <!-- Totals -->
  <div class="totals">
    <h3>Current Order Total: <span id="order-total">0</span></h3>
    <h3>Daily Sales Total: <span id="daily-total">0</span></h3>
  </div>

  <!-- Buttons -->
  <div class="actions">
    <button onclick="completeOrder()">‚úÖ Complete Order</button>
    <button onclick="resetAll()">üîÑ Reset All</button>
    <button onclick="generateReport()">üìÑ Generate Report</button>
  </div>

  <!-- Report Box -->
  <pre id="report-box"></pre>

  <script>
    let orderTotal = 0;
    let dailyTotal = 0;

    let orderCounts = { "Tikka":0, "Leg Piece":0, "Kabab":0, "Kalagi":0, "Nan":0, "Roti":0 };
    let dailyCounts = { "Tikka":0, "Leg Piece":0, "Kabab":0, "Kalagi":0, "Nan":0, "Roti":0 };

    function addItem(item, price) {
      orderCounts[item]++;
      orderTotal += price;
      document.getElementById(item + "-count").innerText = orderCounts[item];
      document.getElementById("order-total").innerText = orderTotal;
    }

    function removeItem(item, price) {
      if(orderCounts[item]>0){
        orderCounts[item]--;
        orderTotal -= price;
        document.getElementById(item + "-count").innerText = orderCounts[item];
        document.getElementById("order-total").innerText = orderTotal;
      }
    }

    function completeOrder() {
      dailyTotal += orderTotal;
      document.getElementById("daily-total").innerText = dailyTotal;

      for(let key in orderCounts){
        dailyCounts[key] += orderCounts[key];
        orderCounts[key]=0;
        document.getElementById(key+"-count").innerText=0;
      }
      orderTotal=0;
      document.getElementById("order-total").innerText=0;
    }

    function resetAll(){
      orderTotal=0;
      dailyTotal=0;
      for(let key in orderCounts) orderCounts[key]=0;
      for(let key in dailyCounts) dailyCounts[key]=0;
      document.getElementById("order-total").innerText=0;
      document.getElementById("daily-total").innerText=0;
      for(let key in orderCounts) document.getElementById(key+"-count").innerText=0;
      document.getElementById("report-box").style.display="none";
    }

    function generateReport(){
      let report="--- Daily Sales Report ---\n\n";
      for(let key in dailyCounts){
        report += `${key}: ${dailyCounts[key]} sold\n`;
      }
      report += `\nCurrent Order Total: ${orderTotal}\n`;
      report += `Daily Sales Total: ${dailyTotal}`;
      document.getElementById("report-box").style.display="block";
      document.getElementById("report-box").innerText = report;
    }
  </script>

</body>
</html>
